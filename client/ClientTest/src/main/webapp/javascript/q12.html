<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

        body{
            color: #444;
        }
        div {
            width: 500px;
            margin: 0 auto;
        }

        h1 {
            margin-top: 20px;
            font-size: 1.4em;
        }

        h2 {
            font-size: 0.9em;
        }

        ul {
            border-bottom: 1px dotted #222;
            padding-bottom: 30px;
            font-size: 0.7em;
        }

        h3{
            margin-top: 20px;
        }

        table, tr, td {
            border: 1px solid #222;
            border-collapse: collapse;
            text-align: center;
            height: 30px;
        }
        .header{
            background-color: #eee;
            font-weight: bold;
        }

        .header .input {
            width: 330px;
        }

        tr td:nth-child(1), tr td:nth-last-child(1){
            font-weight: bold;
            width: 40px;
        }

        input[type=text]:read-only{
            cursor: not-allowed;
            background-color: #eee;
        }



    </style>
</head>
<body>
    <!-- q12.html -->
    <div>
        <h1>텍스트 박스 입력 + 잠금</h1>
        <h2>체크박스를 사용해 텍스트 박스를 제어하시오.</h2>
        <ul>
            <li>각각의 텍스트 박스의 입력/잠금 상태를 제어하시오.</li>
            <li>체크박스: 텍스트 박스를 읽기 전용으로 만든다.(readonly)</li>
            <li>입력 후 엔터를 치면 자동으로 잠금 상태가 된다.</li>
            <li>텍스트 박스를 더블클릭하면 입력 상태가 된다.</li>
        </ul>
        <h3>입력하기</h3>
        <table>
            <tr class="header">
                <td>번호</td>
                <td class="input">입력</td>
                <td>잠금</td>
            </tr>
            <tr class="content">
                <td>1</td>
                <td><input type="text" size="38" name="txt" data-no="0"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="0"></td>
            </tr>
            <tr>
                <td>2</td>
                <td><input type="text" size="38" name="txt" data-no="1"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="1"></td>
            </tr>
            <tr>
                <td>3</td>
                <td><input type="text" size="38" name="txt" data-no="2"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="2"></td>
            </tr>
            <tr>
                <td>4</td>
                <td><input type="text" size="38" name="txt" data-no="3"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="3"></td>
            </tr>
            <tr>
                <td>5</td>
                <td><input type="text" size="38" name="txt" data-no="4"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="4"></td>
            </tr>
            <tr>
                <td>6</td>
                <td><input type="text" size="38" name="txt" data-no="5"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="5"></td>
            </tr>
            <tr>
                <td>7</td>
                <td><input type="text" size="38" name="txt" data-no="6"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="6"></td>
            </tr>
            <tr>
                <td>8</td>
                <td><input type="text" size="38" name="txt" data-no="7"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="7"></td>
            </tr>
            <tr>
                <td>9</td>
                <td><input type="text" size="38" name="txt" data-no="8"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="8"></td>
            </tr>
            <tr>
                <td>10</td>
                <td><input type="text" size="38" name="txt" data-no="9"></td>
                <td><input type="checkbox" class="cb" name="cb" data-no="9"></td>
            </tr>
        </table>
    </div>

    <script>

        var txt = document.all.txt;
        var cb = document.all.cb;

        for(var i=0; i<cb.length; i++){

            cb[i].onchange = function(){
                txt[event.srcElement.dataset["no"]].readOnly = true;
            }; 

            txt[i].onkeydown = function(){
                if(event.keyCode == 13){
                    //잠금걸리게
                    cb[event.srcElement.dataset["no"]].checked = true;
                    event.srcElement.readOnly = true;
                    // txt1[i].readOnly = true;
                }
            };

            txt[i].ondblclick = function(){
                //잠금풀리게
                cb[event.srcElement.dataset["no"]].checked = false;
                event.srcElement.readOnly = false;
            };

        }

            
            


    </script>

</body>
</html>